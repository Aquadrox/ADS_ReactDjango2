VirtualHost *:80>

    DocumentRoot /var/www/my_app_live/my_app/frontend_app/build

    <Directory /var/www/my_app_live/my_app/frontend_app/build>

        Require all granted

        AllowOverride All

        FallbackResource /index.html

    </Directory>



    Alias /media/ /var/www/my_app_live/my_app/backend_project/src/media/

    <Directory /var/www/my_app_live/my_app/backend_project/src/media>

        Require all granted

    </Directory>



    Alias /django-static/ /var/www/my_app_live/my_app/backend_project/src/staticfiles/

    <Directory /var/www/my_app_live/my_app/backend_project/src/staticfiles>

        Require all granted

    </Directory>



    WSGIDaemonProcess django_app python-home=/var/www/my_app_live/my_app/backend_project/.venv

    WSGIProcessGroup django_app

    WSGIScriptAlias /api /var/www/my_app_live/my_app/backend_project/src/core/wsgi.py process-group=django_app application-group=%{GLOBAL}



    <Directory /var/www/my_app_live/my_app/backend_project/src/core>

        <Files wsgi.py>

            Require all granted

        </Files>

    </Directory>



    ErrorLog ${APACHE_LOG_DIR}/my_app-error.log

    CustomLog ${APACHE_LOG_DIR}/my_app-access.log combined

</VirtualHost>